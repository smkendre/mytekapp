<app-header></app-header>

<ion-content>

<ion-row  *ngIf="isLoading">
  <ion-col size="12">
    <div class="ion-text-center">
      <ion-spinner color="primary"></ion-spinner>
    </div>
  </ion-col>
</ion-row>
<ion-grid>

  <ion-card class="transparent-card">
    <ion-card-content>
      <ion-row class="ion-text-center">
        <ion-col size="12" size-sm="12">
          <h1>Registration Form</h1>
    </ion-col>

    </ion-row>
    </ion-card-content>
  </ion-card>


<form #form="ngForm" (ngSubmit)="onSubmit(form)" enctype="multipart/form-data">

  <ion-card class="transparent-card">

    <ion-card-content>
      <ion-row>

        <ion-col size="12" class="ion-no-padding">
          <ion-input type="text" name="uname" [(ngModel)]="uname" placeholder="Name *" ></ion-input>
        </ion-col>
        <ion-col size="12" class="ion-no-padding">
          <ion-input type="text" [(ngModel)]="cname"  name="company" placeholder="Company Name *" ></ion-input>
        </ion-col>
        <ion-col size="12" class="ion-no-padding">
          <ion-textarea col="6" [(ngModel)]="addr"  name="address" placeholder="Address *" ></ion-textarea>
        </ion-col>
      </ion-row>
      <div *ngIf="!isLoading">
      <h2>Area of Interest *</h2>

      <ion-row>
        <ion-col size="6"  *ngFor="let item of areaOfInterst ">
          <ion-checkbox name="area_of_interst[]" [checked]="area_of_interest.indexOf(item.name) >= 0" value="{{item.name}}" (click)="onSelect(item.name)"></ion-checkbox><ion-label> {{item.name}}</ion-label>

        </ion-col>

        <ion-col size="6">
          <ion-checkbox name="area_of_interst[]" (click)="toggleOtherField()"></ion-checkbox>
        <ion-label> Other</ion-label>
        </ion-col>

      </ion-row>

<ion-row *ngIf="toggleDisplay">
  <ion-col size="6">

  </ion-col>
  <ion-col size="6">
    <ion-textarea name="area_of_interst[]"></ion-textarea>
  </ion-col>
</ion-row>
    </div>
<ion-row>

  <ion-col size="12" class="ion-no-padding">
    <ion-select [(ngModel)]="stateValue" name="state" (ionChange)="onStateChange($event.target.value)">
      <ion-select-option value="">Select State</ion-select-option>
      <ion-select-option *ngFor="let state of states" [value]="state.id" >{{state.name}}</ion-select-option>
    </ion-select>
  </ion-col>
  <ion-col size="12" class="ion-no-padding">
    <ion-select [(ngModel)]="districtValue"
    name="district" (ionChange)="onDistrictChange($event.target.value)">
      <ion-select-option value="">Select District</ion-select-option>
      <ion-select-option *ngFor="let dis of districts" [value]="dis.id">{{dis.name}}</ion-select-option>

    </ion-select>  </ion-col>
  <ion-col size="12" class="ion-no-padding">
    <ion-select [(ngModel)]="talukaValue"  name="taluka">
      <ion-select-option value="">Select Taluka</ion-select-option>
      <ion-select-option *ngFor="let city of talukas" [value]="city.id">{{city.name}}</ion-select-option>
    </ion-select>  </ion-col>

</ion-row>

<ion-row>

  <ion-col size="3">
    <img [src]="imageUrl" height="30px" *ngIf="imageUrl">
  </ion-col>

  <ion-col size="3">
    <img [src]="RegimageUrl" height="30px" *ngIf="RegimageUrl">
  </ion-col>
  <ion-col size="3">
    <img [src]="PanimageUrl" height="30px" *ngIf="PanimageUrl">
  </ion-col>
  <ion-col size="3">
    <img [src]="AdhaarimageUrl" height="30px" *ngIf="AdhaarimageUrl">
  </ion-col>

</ion-row>

<ion-row>
  <ion-col size="8" >
    <ion-input type="text" [(ngModel)]="gst_num"  name="gst_num" value="" placeholder="Enter GST Number" ></ion-input>

  </ion-col>
  <ion-col size="4">
    <ion-fab vertical="bottom" horizontal="end">
      <input
      type="file"
      #fileInput
      (change)="uploadFile($event, 'gst_certificate')"
      hidden="true"
      accept="image/*"
    />
      <ion-button (click)="selectImageSource('gst_certificate')">
Upload      </ion-button>

<ion-icon name="attach-outline" slot="primary"></ion-icon>
    </ion-fab>

  </ion-col>

</ion-row>


<ion-row>
  <ion-col size="8" >
    <ion-input type="text" [(ngModel)]="pan_num"  name="pan_num" value="" placeholder="Pan Card Number" ></ion-input>

  </ion-col>
  <ion-col size="4">
    <ion-fab vertical="bottom" horizontal="end">
      <input
      type="file"
      #fileInput
      (change)="uploadFile($event, 'pan_card')"
      hidden="true"
      accept="image/*"
    />
      <ion-button (click)="selectImageSource('pan_card')">
Upload      </ion-button>
    </ion-fab>

  </ion-col>
</ion-row>

<ion-row>
  <ion-col size="8" >
    <ion-input type="text" [(ngModel)]="reg_num"  name="reg_num" value="" placeholder="Company Registration Number" ></ion-input>

  </ion-col>
  <ion-col size="4">
    <ion-fab vertical="bottom" horizontal="end">
      <input
      type="file"
      #fileInput
      (change)="uploadFile($event, 'reg_certificate')"
      hidden="true"
      accept="image/*,application/pdf"
    />
      <ion-button (click)="selectImageSource('reg_certificate')">
Upload      </ion-button>
    </ion-fab>

  </ion-col>
</ion-row>


<ion-row>
  <ion-col size="8" >
    <ion-input type="text" [(ngModel)]="adhaar_num"  name="adhaar_num" value="" placeholder="Adhaar Number" ></ion-input>

  </ion-col>
  <ion-col size="4">
    <ion-fab vertical="bottom" horizontal="end">
      <input
      type="file"
      #fileInput
      (change)="uploadFile($event, 'adhaar_file')"
      hidden="true"
      accept="image/*"
    />
      <ion-button (click)="selectImageSource('adhaar_file')">
Upload      </ion-button>
    </ion-fab>

  </ion-col>
</ion-row>

      <ion-button type="submit" expand="block" class="ion-text-center">Submit</ion-button>
    </ion-card-content>
  </ion-card>


</form>
</ion-grid>

</ion-content>
<app-footer></app-footer>
